(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),o=(a(50),a(10)),u=Object(n.createContext)({}),s=function(e){var t=e.children,a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],s=l[1];return r.a.createElement(u.Provider,{value:{user:c,setUser:s}},t)},i=a(22),m=a(5),E=a(12),p=a.n(E),f=a(17),d=a(62),h=a(64),g=a(63),v=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],m=s[1],E=Object(n.useContext)(u).setUser,v=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/user").then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.a,{className:"justify-content-md-center",fluid:"lg"},r.a.createElement(h.a,null,r.a.createElement(h.a.Group,{controlId:"formBasicEmail"},r.a.createElement(h.a.Label,null,"Username"),r.a.createElement(h.a.Control,{type:"text",placeholder:"Enter username",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(h.a.Group,{controlId:"formBasicPassword"},r.a.createElement(h.a.Label,null,"Password"),r.a.createElement(h.a.Control,{type:"password",placeholder:"Password",value:i,onChange:function(e){return m(e.target.value)}})),r.a.createElement(g.a,{onClick:function(){return function(e,t){var a={username:e,password:t};fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){200===e.status&&v().then((function(e){return E(e)}))})).catch((function(e){console.error("Error:",e)}))}(a,i)},variant:"primary"},"Login")))},b=function(){var e=Object(n.useContext)(u).user;return r.a.createElement("div",null,r.a.createElement("h1",null,"This is the landing page placeholder!"),e&&r.a.createElement("p",null,"Hello ",e.username))},j=a(43);var O=function(){var e=Object(n.useContext)(u).setUser;return r.a.createElement(j.a.Link,{onClick:function(){return fetch("/logout").then((function(){return e(null)}))}},"Logout")},w=a(65),y=a(19),C=function(){var e=Object(n.useContext)(u).user;return r.a.createElement(w.a,{bg:"light",expand:"lg"},r.a.createElement(w.a.Brand,{href:"#home"},"Safespace"),r.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(w.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(j.a,{className:"mr-auto"},r.a.createElement(y.LinkContainer,{to:"/"},r.a.createElement(j.a.Link,null,"Home"))),r.a.createElement(j.a,null,e?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.LinkContainer,{to:"/account"},r.a.createElement(j.a.Link,null,"My Account")),r.a.createElement(y.LinkContainer,{to:"/news"},r.a.createElement(j.a.Link,null,"News Feed")),r.a.createElement(O,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.LinkContainer,{to:"/register"},r.a.createElement(j.a.Link,null,"Sign Up")),r.a.createElement(y.LinkContainer,{to:"/login"},r.a.createElement(j.a.Link,null,"Login"))))))};var k=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),u=Object(o.a)(c,2),s=u[0],i=u[1],m=Object(n.useState)(""),E=Object(o.a)(m,2),d=E[0],h=E[1];return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){function t(){return(t=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("/user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:s,password:d})});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),function(){t.apply(this,arguments)}()},className:"registerForm"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"text",className:"form-control",value:a,onChange:function(e){return l(e.target.value)},id:"username"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"text",className:"form-control",value:s,onChange:function(e){return i(e.target.value)},id:"email"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",value:d,onChange:function(e){return h(e.target.value)},id:"password"})),r.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Sign-up")))},L=a(16);var x=function(e){return r.a.createElement(L.a,null,r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,null,e.data.title),r.a.createElement(L.a.Text,null,e.data.content),r.a.createElement(L.a.Link,{href:"#"},"Like"),r.a.createElement(L.a.Link,{href:"#"},"Comment")))};var S=function(){var e=r.a.useState(null),t=Object(o.a)(e,2),a=t[0],n=t[1],l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/posts-community/1");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),n(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){l()}),[]),console.log("working hoe"),null===a?r.a.createElement("h1",null,"Loading"):a.map((function(e){return r.a.createElement(x,{data:e})}))},N=function(){return r.a.createElement(i.BrowserRouter,null,r.a.createElement(s,null,r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement(m.g,null,r.a.createElement(m.d,{path:"/register"},r.a.createElement(k,null)),r.a.createElement(m.d,{path:"/login"},r.a.createElement(v,null)),r.a.createElement(m.d,{exact:!0,path:"/"},r.a.createElement(b,null)),r.a.createElement(m.d,{path:"/news"},r.a.createElement(S,null))))))},T=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),T)}},[[45,1,2]]]);
//# sourceMappingURL=main.4cf4585a.chunk.js.map